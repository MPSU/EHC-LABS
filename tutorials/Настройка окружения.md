# Настройка окружения
## VSCode

![Изображение](../docs/Pasted%20image%2020250302014749.png)

Необходимо проверить, установлен ли в VSCode набор расширений **C/C++ Extension Pack**
Для этого в разделе **Extensions** в навигационной панели с левого края экрана ввести в поиске название расширения и убедиться в том, расширение уже установлено, в противном случае - выполнить инсталляцию.

## Сборка проекта

GitHub проект с файлами, необходимыми для выполнения работы можно найти по этой ссылке: https://github.com/SandalovKY/EHC-LABS
Можно выкачать его в виде архива, либо по HTTPS ссылке через команду:
`git clone https://github.com/SandalovKY/EHC-LABS.git`

![](../docs/Pasted%20image%2020250302015503.png)

Выгруженный проект необходимо открыть через VSCode. 

![](../docs/Pasted%20image%2020250302015653.png)

Важно проверить, чтобы корневая папка проекта была так же и корневой в VSCode. В противном случае, если вы выбрали какую-то внешнюю директорию в качестве корневой папки проекта, вам не удастся автоматически сконфигурировать CMake проект в VSCode.

![](../docs/Pasted%20image%2020250302015735.png)

Если до это момента все шаги были проделаны в соответствии с инструкцией, то следующим этапом вас попросят выбрать cmake kit. Необходимо выбрать DPC++.

![](../docs/Pasted%20image%2020250302020020.png)

Если окно с выбором cmake kit не появилось автоматически, то необходимо нажать комбинацию клавиш `ctrl + shift + p` и самостоятельно выбрать его

![](../docs/Pasted%20image%2020250302051035.png)

Дальше необходимо настроить выбранную конфигурацию cmake проекта. Выполнить это нужно будет путем редактирования файла cmake-kits.json

![](../docs/Pasted%20image%2020250302051356.png)

```
{

        "name": "DPC++",

        "environmentSetupScript": path_to_setup_script,

        "preferredGenerator": {

            "name": "Ninja"

        },

        "compilers": {

            "C": "icx",

            "CXX": "icx"

        }

    }
```

Здесь необходимо выставить взамен `path_to_setup_script` реальный путь до setvars.bat скрипта в корневой папке oneAPI toolkit.

Далее в окне CMake из боковой левой панели можно переконфигурировать проект

![](../docs/Pasted%20image%2020250302051630.png)

После этого появится список всех таргетов в cmake проекте, каждый из которых можно пересобирать по отдельности. 

![](../docs/Pasted%20image%2020250302051839.png)

## Передача параметров компиляции

Для того, чтобы выставить различные параметры компиляции для отдельных таргетов можно добавить их в **target_compile_options**, задаваемых в CMakeLists файлах, расположенных непосредственно в папках с файлами исходного кода приложений

![](../docs/Pasted%20image%2020250302102202.png)

Так, например, чтобы добавить возможность использования библиотеки OpenMP для создания параллельных приложений, необходимо добавить в **target_compile_options** флаг /Qopenmp.


